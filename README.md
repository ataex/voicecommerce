VoiceCommerce.js is a library that makes it easy to build voice integrations for ecommerce.

## Installing voicecommerce

`npm install --save voicecommerce`

```javascript
const {VueStorefrontApi, Authentication, InMemoryAuthenticationPersistence} = require('voicecommerce')

const api = new VueStorefrontApi({ endpoint: 'https://demo.vuestorefront.io' })
const authentication = new Authentication(new InMemoryAuthenticationPersistence()); // implement persistence for your own database
```

## Using with Jovo

The easiest way to start building voice integrations for ecommerce is with Jovo framework.
To bootstrap a project, follow this guide: [https://www.jovo.tech/blog/project-1-hello-world/](https://www.jovo.tech/blog/project-1-hello-world/)

Once you get the hello world project working, you can start using voicecommerce to easily enable ecommerce functions in your Alexa Skill and Google Assistant action.

In the index.js file of your jovo project add OAuth handler:
```javascript
  ...
  oauthConfig = {
    clientId: 'XXXXXX',
    clientSecret: 'XXXXXX',
    redirectUris: [
        'https://pitangui.amazon.com/api/skill/link/M2XYMD4LRXRH3M',
        'https://alexa.amazon.co.jp/api/skill/link/M2XYMD4LRXRH3M',
        'https://layla.amazon.com/api/skill/link/M2XYMD4LRXRH3M'
    ]
  }
  Webhook.use('/oauth', authentication.oauthHandler(api, oauthConfig))

  // generated by jovo
  Webhook.post('/webhook', (req, res) => {
      app.handleWebhook(req, res)
  });
  ...
```

Then, in the app/app.js file add the following to one of the intents:
```javascript
  'HelloWorldIntent': function() {
    const user = authentication.getUser(this.getAccessToken())
    if (!user) {
      this.alexaSkill.showAccountLinkingCard()
      this.tell('Please link your account before making purchases')
    } else {
      api.reorder(user)
      this.tell('Ordering the same products as usual')
    }
  },
```
